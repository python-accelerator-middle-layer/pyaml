type: pyaml.pyaml
instruments:
  - type: pyaml.instrument
    name: sr
    energy: 6e9
    simulators:
      - type: pyaml.lattice.simulator
        lattice: sr/lattices/ebs.mat
        name: design
    controls:
      - type: tango.pyaml.controlsystem
        tango_host: ebs-simu-3:10000
        name: live
    data_folder: /data/store
    devices:    
      - type: pyaml.rf.rf_plant
        name: RF
        masterclock:
          type: tango.pyaml.attribute
          attribute: sy/ms/1/Frequency
          unit: Hz
        transmitters:
          - type: pyaml.rf.rf_transmitter
            name: RFTRA1
            cavities: [CAV_C05_01,CAV_C05_02,CAV_C05_03,CAV_C05_04,CAV_C05_05,CAV_C07_01,CAV_C07_02,CAV_C07_03,CAV_C07_04,CAV_C07_05]
            harmonic: 1
            distribution: 0.83333333333
            voltage:
              type: pyaml.control.device
              setpoint: sr/tra/1/RfVoltage
              readback: sr/tra/1/RfVoltage
              unit: V
          - type: pyaml.rf.rf_transmitter
            name: RFTRA2
            cavities: [CAV_C25_01,CAV_C25_02]
            harmonic: 1
            distribution: 0.16666666666
            voltage:
              type: pyaml.control.device
              setpoint: sr/tra/2/RfVoltage
              readback: sr/tra/2/RfVoltage
              unit: V
          - type: pyaml.rf.rf_transmitter
            name: RFTRA_HARMONIC
            cavities: [CAV_C25_03]
            harmonic: 4
            voltage:
              type: pyaml.control.device
              setpoint: sr/tra/harm/RfVoltage
              readback: sr/tra/harm/RfVoltage
              unit: V
