type: pyaml.accelerator
facility: ESRF
machine: sr
energy: 6e9
simulators:
  - type: pyaml.lattice.simulator
    lattice: sr/lattices/ebs.mat
    name: design
controls:
  - type: tango.pyaml.controlsystem
    tango_host: ebs-simu-3:10000
    name: live
data_folder: /data/store
arrays:
  - type: pyaml.arrays.bpm
    name: BPM
    elements:
      - BPM_C04-04
      - BPM_C04-05
      - BPM_C04-06
      - BPM_C04-06 # duplicate name in array
devices:
- type: pyaml.bpm.bpm
  name: BPM_C04-04
  model:
    type: pyaml.bpm.bpm_simple_model
    x_pos: x_pos
    y_pos: y_pos
- type: pyaml.bpm.bpm
  name: BPM_C04-05
  model:
    type: pyaml.bpm.bpm_simple_model
    x_pos: x_pos
    y_pos: y_pos
- type: pyaml.bpm.bpm
  name: BPM_C04-06
  model:
    type: pyaml.bpm.bpm_simple_model
    x_pos: x_pos
    y_pos: y_pos
control_system_catalogs:
  - type: pyaml.configuration.catalog
    name: live_catalog
    refs:
      - type: pyaml.configuration.catalog_entry
        reference: BPM_C04-04/x_pos
        device:
          type: tango.pyaml.attribute_read_only
          attribute: srdiag/bpm/c04-01/SA_HPosition
          unit: mm
      - type: pyaml.configuration.catalog_entry
        reference: BPM_C04-04/y_pos
        device:
          type: tango.pyaml.attribute_read_only
          attribute: srdiag/bpm/c04-01/SA_VPosition
          unit: mm
      - type: pyaml.configuration.catalog_entry
        reference: BPM_C04-05/x_pos
        device:
          type: tango.pyaml.attribute_read_only
          attribute: srdiag/bpm/c04-02/SA_HPosition
          unit: mm
      - type: pyaml.configuration.catalog_entry
        reference: BPM_C04-05/y_pos
        device:
          type: tango.pyaml.attribute_read_only
          attribute: srdiag/bpm/c04-02/SA_VPosition
          unit: mm
      - type: pyaml.configuration.catalog_entry
        reference: BPM_C04-06/x_pos
        device:
          type: tango.pyaml.attribute_read_only
          attribute: srdiag/bpm/c04-02/SA_HPosition
          unit: mm
      - type: pyaml.configuration.catalog_entry
        reference: BPM_C04-06/y_pos
        device:
          type: tango.pyaml.attribute_read_only
          attribute: srdiag/bpm/c04-02/SA_VPosition
          unit: mm
